<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>JinKuo的博客中心</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="JinKuo的博客中心">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="JinKuo的博客中心">
<meta property="article:author" content="JinKuo">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="JinKuo的博客中心" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">JinKuo的博客中心</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">博客</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-移动端不同像素比1px边框解决方案" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/13/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8D%E5%90%8C%E5%83%8F%E7%B4%A0%E6%AF%941px%E8%BE%B9%E6%A1%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="article-date">
  <time datetime="2020-05-13T06:09:37.955Z" itemprop="datePublished">2020-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/13/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8D%E5%90%8C%E5%83%8F%E7%B4%A0%E6%AF%941px%E8%BE%B9%E6%A1%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">移动端不同像素比1px边框解决方案</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="通过伪类解决"><a href="#通过伪类解决" class="headerlink" title="通过伪类解决"></a>通过伪类解决</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">/*手机端实现真正的一像素边框*/</span><br><span class="line">.border-1px, .border-bottom-1px, .border-top-1px, .border-left-1px, .border-right-1px &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*线条颜色 黑色*/</span><br><span class="line">.border-1px::after, .border-bottom-1px::after, .border-top-1px::after, .border-left-1px::after, .border-right-1px::after &#123;</span><br><span class="line">    background-color: <span class="comment">#000;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*底边边框一像素*/</span><br><span class="line">.border-bottom-1px::after &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 1px;</span><br><span class="line">    transform-origin: 0 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*上边边框一像素*/</span><br><span class="line">.border-top-1px::after &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 1px;</span><br><span class="line">    transform-origin: 0 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*左边边框一像素*/</span><br><span class="line">.border-left-1px::after &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 1px;</span><br><span class="line">    height: 100%;</span><br><span class="line">    transform-origin: 0 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*右边边框1像素*/</span><br><span class="line">.border-right-1px::after &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 1px;</span><br><span class="line">    height: 100%;</span><br><span class="line">    transform-origin: 0 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*边框一像素*/</span><br><span class="line">.border-1px::after &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border: 1px solid gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*设备像素比*/</span><br><span class="line">/*显示屏最小dpr为2*/</span><br><span class="line">@media (-webkit-min-device-pixel-ratio: 2) &#123;</span><br><span class="line">    .border-bottom-1px::after, .border-top-1px::after &#123;</span><br><span class="line">        transform: scaleY(0.5);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .border-left-1px::after, .border-right-1px::after &#123;</span><br><span class="line">        transform: scaleX(0.5);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .border-1px::after &#123;</span><br><span class="line">        width: 200%;</span><br><span class="line">        height: 200%;</span><br><span class="line">        transform: scale(0.5);</span><br><span class="line">        transform-origin: 0 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*设备像素比*/</span><br><span class="line">@media (-webkit-min-device-pixel-ratio: 3)  &#123;</span><br><span class="line">    .border-bottom-1px::after, .border-top-1px::after &#123;</span><br><span class="line">        transform: scaleY(0.333);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .border-left-1px::after, .border-right-1px::after &#123;</span><br><span class="line">        transform: scaleX(0.333);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .border-1px::after &#123;</span><br><span class="line">        width: 300%;</span><br><span class="line">        height: 300%;</span><br><span class="line">        transform: scale(0.333);</span><br><span class="line">        transform-origin: 0 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">/*需要注意&lt;input <span class="built_in">type</span>=<span class="string">"button"</span>&gt;是没有:before, :after伪元素的*/</span><br></pre></td></tr></table></figure>
<h1 id="viewport-rem"><a href="#viewport-rem" class="headerlink" title="viewport + rem"></a>viewport + rem</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    同时通过设置对应viewport的rem基准值，这种方式就可以像以前一样轻松愉快的写1px了。</span><br><span class="line">在devicePixelRatio = 2 时，设置meta：</span><br><span class="line"></span><br><span class="line">&lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width,initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no"</span>&gt;</span><br><span class="line">在devicePixelRatio = 3 时，设置meta：</span><br><span class="line"></span><br><span class="line">&lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width,initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no"</span>&gt;</span><br><span class="line">实例验证：</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;移动端1px问题&lt;/title&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html;charset=UTF-8"</span> /&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> id=<span class="string">"WebViewport"</span></span><br><span class="line">        content=<span class="string">"width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span> /&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        html &#123;</span><br><span class="line">            font-size: 11px;</span><br><span class="line">        &#125;</span><br><span class="line">        body &#123;</span><br><span class="line">            padding: 1rem;</span><br><span class="line">        &#125;</span><br><span class="line">        * &#123;</span><br><span class="line">            padding: 0;</span><br><span class="line">            margin: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .item &#123;</span><br><span class="line">            padding: 1rem;</span><br><span class="line">            border-bottom: 1px solid gray;</span><br><span class="line">            font-size: 1.2rem;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var viewport = document.querySelector(<span class="string">"meta[name=viewport]"</span>);</span><br><span class="line">        var dpr = window.devicePixelRatio || 1;</span><br><span class="line">        var scale = 1 / dpr;</span><br><span class="line">        //下面是根据设备dpr设置viewport</span><br><span class="line">        viewport.setAttribute(</span><br><span class="line">            <span class="string">"content"</span>, +</span><br><span class="line">            <span class="string">"width=device-width,"</span> +</span><br><span class="line">            <span class="string">"initial-scale="</span> +</span><br><span class="line">            scale +</span><br><span class="line">            <span class="string">", maximum-scale="</span> +</span><br><span class="line">            scale +</span><br><span class="line">            <span class="string">", minimum-scale="</span> +</span><br><span class="line">            scale +</span><br><span class="line">            <span class="string">", user-scalable=no"</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        var docEl = document.documentElement;</span><br><span class="line">        var fontsize = 10 * (docEl.clientWidth / 320) + <span class="string">"px"</span>;</span><br><span class="line">        docEl.style.fontSize = fontsize;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=<span class="string">"item"</span>&gt;border-bottom: 1px solid gray;&lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"item"</span>&gt;border-bottom: 1px solid gray;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/13/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8D%E5%90%8C%E5%83%8F%E7%B4%A0%E6%AF%941px%E8%BE%B9%E6%A1%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" data-id="ckap2tesc0007c0nteswu3usq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue新增知识点" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/13/vue%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86%E7%82%B9/" class="article-date">
  <time datetime="2020-05-13T03:38:03.355Z" itemprop="datePublished">2020-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/13/vue%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86%E7%82%B9/">vue知识点</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="自定义组件的-v-model"><a href="#自定义组件的-v-model" class="headerlink" title="自定义组件的 v-model"></a>自定义组件的 v-model</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">   一个组件上的 v-model 默认会利用名为 value 的 prop 和名为 input 的事件，但是像单选框、复选框等类型的输入控件可能会将 value attribute 用于不同的目的。model 选项可以用来避免这样的冲突：</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">'base-checkbox'</span>, &#123;</span><br><span class="line">  model: &#123;</span><br><span class="line">    prop: <span class="string">'checked'</span>,</span><br><span class="line">    event: <span class="string">'change'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    checked: Boolean</span><br><span class="line">  &#125;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;input</span><br><span class="line">      <span class="built_in">type</span>=<span class="string">"checkbox"</span></span><br><span class="line">      v-bind:checked=<span class="string">"checked"</span></span><br><span class="line">      v-on:change=<span class="string">"<span class="variable">$emit</span>('change', <span class="variable">$event</span>.target.checked)"</span></span><br><span class="line">    &gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">有了这个 <span class="variable">$listeners</span> property，你就可以配合 v-on=<span class="string">"<span class="variable">$listeners</span>"</span> 将所有的事件监听器指向这个组件的某个特定的子元素。对于类似 &lt;input&gt; 的你希望它也可以配合 v-model 工作的组件来说，为这些监听器创建一个类似下述 inputListeners 的计算属性通常是非常有用的：</span><br><span class="line"></span><br><span class="line">Vue.component(<span class="string">'base-input'</span>, &#123;</span><br><span class="line">  inheritAttrs: <span class="literal">false</span>,</span><br><span class="line">  props: [<span class="string">'label'</span>, <span class="string">'value'</span>],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    inputListeners: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">      var vm = this</span><br><span class="line">      // `Object.assign` 将所有的对象合并为一个新对象</span><br><span class="line">      <span class="built_in">return</span> Object.assign(&#123;&#125;,</span><br><span class="line">        // 我们从父级添加所有的监听器</span><br><span class="line">        this.<span class="variable">$listeners</span>,</span><br><span class="line">        // 然后我们添加自定义监听器，</span><br><span class="line">        // 或覆写一些监听器的行为</span><br><span class="line">        &#123;</span><br><span class="line">          // 这里确保组件配合 `v-model` 的工作</span><br><span class="line">          input: <span class="keyword">function</span> (event) &#123;</span><br><span class="line">            vm.<span class="variable">$emit</span>(<span class="string">'input'</span>, event.target.value)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  template: `</span><br><span class="line">    &lt;label&gt;</span><br><span class="line">      &#123;&#123; label &#125;&#125;</span><br><span class="line">      &lt;input</span><br><span class="line">        v-bind=<span class="string">"<span class="variable">$attrs</span>"</span></span><br><span class="line">        v-bind:value=<span class="string">"value"</span></span><br><span class="line">        v-on=<span class="string">"inputListeners"</span></span><br><span class="line">      &gt;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;base-layout&gt;</span><br><span class="line">  &lt;template v-slot:header&gt;</span><br><span class="line">    &lt;h1&gt;Here might be a page title&lt;/h1&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template v-slot:default&gt;</span><br><span class="line">    &lt;p&gt;A paragraph <span class="keyword">for</span> the main content.&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;And another one.&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template v-slot:footer&gt;</span><br><span class="line">    &lt;p&gt;some contact info&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/base-layout&gt;</span><br><span class="line">v-slot 只能添加在 &lt;template&gt; 上 (只有一种例外情况)，这一点和已经废弃的 slot</span><br></pre></td></tr></table></figure>

<h1 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">为了让 user 在父级的插槽内容中可用，我们可以将 user 作为 &lt;slot&gt; 元素的一个 attribute 绑定上去：</span><br><span class="line"></span><br><span class="line">&lt;span&gt;</span><br><span class="line">  &lt;slot v-bind:user=<span class="string">"user"</span>&gt;</span><br><span class="line">    &#123;&#123; user.lastName &#125;&#125;</span><br><span class="line">  &lt;/slot&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">绑定在 &lt;slot&gt; 元素上的 attribute 被称为插槽 prop。现在在父级作用域中，我们可以使用带值的 v-slot 来定义我们提供的插槽 prop 的名字：</span><br><span class="line"></span><br><span class="line">&lt;current-user&gt;</span><br><span class="line">  &lt;template v-slot:default=<span class="string">"slotProps"</span>&gt;</span><br><span class="line">    &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/current-user&gt;</span><br></pre></td></tr></table></figure>
<h1 id="作用域插槽简写"><a href="#作用域插槽简写" class="headerlink" title="作用域插槽简写"></a>作用域插槽简写</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">在上述情况下，当被提供的内容只有默认插槽时，组件的标签才可以被当作插槽的模板来使用。这样我们就可以把 v-slot 直接用在组件上：</span><br><span class="line"></span><br><span class="line">&lt;current-user v-slot:default=<span class="string">"slotProps"</span>&gt;</span><br><span class="line">  &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">&lt;/current-user&gt;</span><br><span class="line">这种写法还可以更简单。就像假定未指明的内容对应默认插槽一样，不带参数的 v-slot 被假定对应默认插槽：</span><br><span class="line"></span><br><span class="line">&lt;current-user v-slot=<span class="string">"slotProps"</span>&gt;</span><br><span class="line">  &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">&lt;/current-user&gt;</span><br></pre></td></tr></table></figure>
<h1 id="动态插槽名"><a href="#动态插槽名" class="headerlink" title="动态插槽名"></a>动态插槽名</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2.6.0 新增</span><br><span class="line"></span><br><span class="line">动态指令参数也可以用在 v-slot 上，来定义动态的插槽名：</span><br><span class="line"></span><br><span class="line">&lt;base-layout&gt;</span><br><span class="line">  &lt;template v-slot:[dynamicSlotName]&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/base-layout&gt;</span><br></pre></td></tr></table></figure>

<h1 id="具名插槽的缩写"><a href="#具名插槽的缩写" class="headerlink" title="具名插槽的缩写"></a>具名插槽的缩写</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    跟 v-on 和 v-bind 一样，v-slot 也有缩写，即把参数之前的所有内容 (v-slot:) 替换为字符 <span class="comment">#。例如 v-slot:header 可以被重写为 #header：</span></span><br><span class="line"></span><br><span class="line">&lt;base-layout&gt;</span><br><span class="line">  &lt;template <span class="comment">#header&gt;</span></span><br><span class="line">    &lt;h1&gt;Here might be a page title&lt;/h1&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;p&gt;A paragraph <span class="keyword">for</span> the main content.&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;And another one.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template <span class="comment">#footer&gt;</span></span><br><span class="line">    &lt;p&gt;Here some contact info&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/base-layout&gt;</span><br></pre></td></tr></table></figure>
<h1 id="异步加载"><a href="#异步加载" class="headerlink" title="异步加载"></a>异步加载</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">    不止在路由中可以异步加载，在组件中也可以异步加载，大大提升性能</span><br><span class="line">    异步组件</span><br><span class="line">    Vue.component(<span class="string">'async-webpack-example'</span>, <span class="keyword">function</span> (resolve) &#123;</span><br><span class="line">  // 这个特殊的 `require` 语法将会告诉 webpack</span><br><span class="line">  // 自动将你的构建代码切割成多个包，这些包</span><br><span class="line">  // 会通过 Ajax 请求加载</span><br><span class="line">  require([<span class="string">'./my-async-component'</span>], resolve)</span><br><span class="line">&#125;)</span><br><span class="line">你也可以在工厂函数中返回一个 Promise，所以把 webpack 2 和 ES2015 语法加在一起，我们可以写成这样：</span><br><span class="line">Vue.component(</span><br><span class="line">  <span class="string">'async-webpack-example'</span>,</span><br><span class="line">  // 这个 `import` 函数会返回一个 `Promise` 对象。</span><br><span class="line">  () =&gt; import(<span class="string">'./my-async-component'</span>)</span><br><span class="line">)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  // ...</span><br><span class="line">  components: &#123;</span><br><span class="line">    <span class="string">'my-component'</span>: () =&gt; import(<span class="string">'./my-async-component'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.3.0+ 新增</span><br><span class="line"></span><br><span class="line">这里的异步组件工厂函数也可以返回一个如下格式的对象：</span><br><span class="line"></span><br><span class="line">const AsyncComponent = () =&gt; (&#123;</span><br><span class="line">  // 需要加载的组件 (应该是一个 `Promise` 对象)</span><br><span class="line">  component: import(<span class="string">'./MyComponent.vue'</span>),</span><br><span class="line">  // 异步组件加载时使用的组件</span><br><span class="line">  loading: LoadingComponent,</span><br><span class="line">  // 加载失败时使用的组件</span><br><span class="line">  error: ErrorComponent,</span><br><span class="line">  // 展示加载时组件的延时时间。默认值是 200 (毫秒)</span><br><span class="line">  delay: 200,</span><br><span class="line">  // 如果提供了超时时间且组件加载也超时了，</span><br><span class="line">  // 则使用加载失败时使用的组件。默认值是：`Infinity`</span><br><span class="line">  timeout: 3000</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/13/vue%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86%E7%82%B9/" data-id="ckap2terw0006c0ntad4gh7sr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vue-cli4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/11/vue-cli4/" class="article-date">
  <time datetime="2020-05-11T01:44:00.647Z" itemprop="datePublished">2020-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/11/vue-cli4/">vue-cli4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="如果安装有vue-cli-2-0-1-0-先卸载"><a href="#如果安装有vue-cli-2-0-1-0-先卸载" class="headerlink" title="如果安装有vue-cli 2.0 1.0 先卸载"></a>如果安装有vue-cli 2.0 1.0 先卸载</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall vue-cli -g</span><br></pre></td></tr></table></figure>
<h1 id="安装vue-cli4"><a href="#安装vue-cli4" class="headerlink" title="安装vue-cli4"></a>安装vue-cli4</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>
<h1 id="查看是否安装成功vue-cli3"><a href="#查看是否安装成功vue-cli3" class="headerlink" title="查看是否安装成功vue-cli3"></a>查看是否安装成功vue-cli3</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue --version</span><br></pre></td></tr></table></figure>
<h1 id="安装插件-在项目的根目录下执行"><a href="#安装插件-在项目的根目录下执行" class="headerlink" title="安装插件,在项目的根目录下执行"></a>安装插件,在项目的根目录下执行</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add router</span><br></pre></td></tr></table></figure>
<h1 id="可以在根目录下创建一个vue-config-js文件存放配置。"><a href="#可以在根目录下创建一个vue-config-js文件存放配置。" class="headerlink" title="可以在根目录下创建一个vue.config.js文件存放配置。"></a>可以在根目录下创建一个vue.config.js文件存放配置。</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    调整 webpack 配置最简单的方式就是在 vue.config.js 中的 configureWebpack 选项提供一个对象：</span><br><span class="line">    // vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      new MyAwesomeWebpackPlugin()</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">该对象将会被 webpack-merge 合并入最终的 webpack 配置。</span><br><span class="line">有些 webpack 选项是基于 vue.config.js 中的值设置的，所以不能直接修改。例如你应该修改 vue.config.js 中的 outputDir 选项而不是修改 output.path；你应该修改 vue.config.js 中的 publicPath 选项而不是修改 output.publicPath。这样做是因为 vue.config.js 中的值会被用在配置里的多个地方，以确保所有的部分都能正常工作在一起。</span><br><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  configureWebpack: config =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">      // 为生产环境修改配置...</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      // 为开发环境修改配置...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改-Loader-选项"><a href="#修改-Loader-选项" class="headerlink" title="修改 Loader 选项"></a>修改 Loader 选项</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    // vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">'vue'</span>)</span><br><span class="line">      .use(<span class="string">'vue-loader'</span>)</span><br><span class="line">        .loader(<span class="string">'vue-loader'</span>)</span><br><span class="line">        .tap(options =&gt; &#123;</span><br><span class="line">          // 修改它的选项...</span><br><span class="line">          <span class="built_in">return</span> options</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="添加一个新的-Loader"><a href="#添加一个新的-Loader" class="headerlink" title="添加一个新的 Loader"></a>添加一个新的 Loader</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    // vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    // GraphQL Loader</span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">'graphql'</span>)</span><br><span class="line">      .<span class="built_in">test</span>(/\.graphql$/)</span><br><span class="line">      .use(<span class="string">'graphql-tag/loader'</span>)</span><br><span class="line">        .loader(<span class="string">'graphql-tag/loader'</span>)</span><br><span class="line">        .end()</span><br><span class="line">      // 你还可以再添加一个 loader</span><br><span class="line">      .use(<span class="string">'other-loader'</span>)</span><br><span class="line">        .loader(<span class="string">'other-loader'</span>)</span><br><span class="line">        .end()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="替换一个规则里的-Loader"><a href="#替换一个规则里的-Loader" class="headerlink" title="替换一个规则里的 Loader"></a>替换一个规则里的 Loader</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    const svgRule = config.module.rule(<span class="string">'svg'</span>)</span><br><span class="line"></span><br><span class="line">    // 清除已有的所有 loader。</span><br><span class="line">    // 如果你不这样做，接下来的 loader 会附加在该规则现有的 loader 之后。</span><br><span class="line">    svgRule.uses.clear()</span><br><span class="line"></span><br><span class="line">    // 添加要替换的 loader</span><br><span class="line">    svgRule</span><br><span class="line">      .use(<span class="string">'vue-svg-loader'</span>)</span><br><span class="line">        .loader(<span class="string">'vue-svg-loader'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改插件选项"><a href="#修改插件选项" class="headerlink" title="修改插件选项"></a>修改插件选项</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config</span><br><span class="line">      .plugin(<span class="string">'html'</span>)</span><br><span class="line">      .tap(args =&gt; &#123;</span><br><span class="line">        <span class="built_in">return</span> [/* 传递给 html-webpack-plugin<span class="string">'s 构造函数的新参数 */]</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="现代模式"><a href="#现代模式" class="headerlink" title="现代模式"></a>现代模式</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    为了兼容那些不支持js新特性的浏览器我们需要Babel转译，但转译后的代码笨重冗长，这次3.x提供了一个现代模式</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">npx vue-cli-service build --modern</span><br><span class="line"></span><br><span class="line">这个命令会产生两个应用的版本：一个现代版的包，面向支持 ES modules 的现代浏览器，另一个旧版的包，面向不支持的旧浏览器</span><br><span class="line">而且不需要我们手动去部署和设置什么，简直很贴心</span><br><span class="line"></span><br><span class="line">现代版的包会通过 &lt;script <span class="built_in">type</span>=<span class="string">"module"</span>&gt; 在被支持的浏览器中加载；它们还会使用 &lt;link rel=<span class="string">"modulepreload"</span>&gt; 进行预加载</span><br><span class="line">旧版的包会通过 &lt;script nomodule&gt; 加载，并会被支持 ES modules 的浏览器忽略</span><br><span class="line">一个针对 Safari 10 中 &lt;script nomodule&gt; 的修复会被自动注入</span><br></pre></td></tr></table></figure>
<h1 id="查看webpck配置"><a href="#查看webpck配置" class="headerlink" title="查看webpck配置"></a>查看webpck配置</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue inspect --rule vue</span><br></pre></td></tr></table></figure>
<h1 id="向所有-Sass-样式传入共享的全局变量"><a href="#向所有-Sass-样式传入共享的全局变量" class="headerlink" title="向所有 Sass 样式传入共享的全局变量"></a>向所有 Sass 样式传入共享的全局变量</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">   在根目录新建一个vue.config.js，加入以下配置</span><br><span class="line">   module.exports = &#123;</span><br><span class="line">  css: &#123;</span><br><span class="line">    loaderOptions: &#123;</span><br><span class="line">      // 给 sass-loader 传递选项</span><br><span class="line">      sass: &#123;</span><br><span class="line">        // @/ 是 src/ 的别名</span><br><span class="line">        // 所以这里假设你有 `src/variables.scss` 这个文件</span><br><span class="line">        data: `@import <span class="string">"@/variables.scss"</span>;`</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">pluginOptions: &#123; // 第三方插件配置</span><br><span class="line">        <span class="string">'style-resources-loader'</span>: &#123;</span><br><span class="line">          preProcessor: <span class="string">'less'</span>,</span><br><span class="line">          patterns: [path.resolve(__dirname, <span class="string">'./src/assets/css/base.less'</span>)] // less所在文件路径</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改网页图标"><a href="#修改网页图标" class="headerlink" title="修改网页图标"></a>修改网页图标</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">config.plugins.forEach((val) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (val instanceof HtmlWebpackPlugin) &#123;</span><br><span class="line">          val.options.favicon = path.resolve(__dirname, <span class="string">'./src/assets/favicon.ico'</span>) // 修改输出文件名</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/11/vue-cli4/" data-id="ckap2tert0004c0nt5w1v35x3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-css小知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/" class="article-date">
  <time datetime="2020-04-26T09:14:54.828Z" itemprop="datePublished">2020-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/">css小知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="快速重置表单元素-unset"><a href="#快速重置表单元素-unset" class="headerlink" title="快速重置表单元素 unset"></a>快速重置表单元素 unset</h3><pre><code class="bash">button { all: <span class="built_in">unset</span>; }</code></pre>
<h3 id="文本省略号显示"><a href="#文本省略号显示" class="headerlink" title="文本省略号显示"></a>文本省略号显示</h3><pre><code class="bash">    div {  
  white-space:nowrap;/* 规定文本是否折行 */  
  overflow: hidden;/* 规定超出内容宽度的元素隐藏 */
  text-overflow: ellipsis;
  /* 规定超出的内容文本省略号显示，通常跟上面的属性连用，因为没有上面的属性不会触发超出规定的内容 */
}复制代码折行(能主动控制行数,这里设置的超出 4 行显示省略号)：div {      
  overflow: hidden;      
  text-overflow: ellipsis;      
  display: -webkit-box; /* 将对象作为弹性伸缩盒子模型显示 */      
  -webkit-line-clamp: 4; /* 控制最多显示几行 */      
  -webkit-box-orient: vertical; /* 设置或检索伸缩盒对象的子元素的排列方式 */    
}</code></pre>
<h3 id="最后一个-div-不显示下边框"><a href="#最后一个-div-不显示下边框" class="headerlink" title="最后一个 div 不显示下边框"></a>最后一个 div 不显示下边框</h3><pre><code class="bash">div:not(:last-child) /* 匹配非最后一个 div 元素的 div 元素 */</code></pre>
<h3 id="设置文本俩端对齐"><a href="#设置文本俩端对齐" class="headerlink" title="设置文本俩端对齐"></a>设置文本俩端对齐</h3><pre><code class="bash">text-align-last:justify;</code></pre>
<h3 id="通过pointer-events-none-阻止默认事件"><a href="#通过pointer-events-none-阻止默认事件" class="headerlink" title="通过pointer-events: none;阻止默认事件"></a>通过pointer-events: none;阻止默认事件</h3><pre><code class="bash">pointer-events: none;</code></pre>
<h3 id="在标签上自定义属性data-，通过attr-获取其内容赋值到content上"><a href="#在标签上自定义属性data-，通过attr-获取其内容赋值到content上" class="headerlink" title="在标签上自定义属性data-*，通过attr()获取其内容赋值到content上"></a>在标签上自定义属性data-*，通过attr()获取其内容赋值到content上</h3><pre><code class="bash"> &lt;a class=<span class="string">"tips"</span> href=<span class="string">"https://www.baidu.com"</span> data-msg=<span class="string">"Hello World"</span>&gt;提示框&lt;/a&gt;
content: attr(data-msg);</code></pre>
<h3 id="使用伪类-valid和-invalid配合pattern校验表单输入的内容"><a href="#使用伪类-valid和-invalid配合pattern校验表单输入的内容" class="headerlink" title="使用伪类:valid和:invalid配合pattern校验表单输入的内容"></a><input>使用伪类:valid和:invalid配合pattern校验表单输入的内容</h3><pre><code class="bash">&amp;:valid {
            border-color: <span class="comment">#3c9;</span>
            box-shadow: inset 5px 0 0<span class="comment">#3c9;</span>
        }
        &amp;:invalid {
            border-color: <span class="comment">#f66;</span>
            box-shadow: inset 5px 0 0 <span class="comment">#f66;</span>
        }</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/" data-id="ckap2tero0001c0ntb69x158c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/14/react/" class="article-date">
  <time datetime="2020-04-14T04:08:00.176Z" itemprop="datePublished">2020-04-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/14/react/">react</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="reactJSX"><a href="#reactJSX" class="headerlink" title="reactJSX"></a>reactJSX</h1><pre><code class="bash">HTML 里的 class 在 JSX 里要写成 className，因为 class 在 JS 里是保留关键字。同理某些属性比如 <span class="keyword">for</span> 要写成 htmlFor。</code></pre>
<h1 id="react生命周期"><a href="#react生命周期" class="headerlink" title="react生命周期"></a>react生命周期</h1><h3 id="装载组件触发"><a href="#装载组件触发" class="headerlink" title="装载组件触发"></a>装载组件触发</h3><pre><code class="bash">   componentWillMount

只会在装载之前调用一次，在 render 之前调用，你可以在这个方法里面调用 setState 改变状态，并且不会导致额外调用一次 render
componentDidMount

只会在装载完成之后调用一次，在 render 之后调用，从这里开始可以通过 ReactDOM.findDOMNode(this) 获取到组件的 DOM 节点。</code></pre>
<h3 id="更新组件触发"><a href="#更新组件触发" class="headerlink" title="更新组件触发"></a>更新组件触发</h3><pre><code class="bash">componentWillReceiveProps
shouldComponentUpdate
componentWillUpdate
componentDidUpdate</code></pre>
<h3 id="卸载组件触发"><a href="#卸载组件触发" class="headerlink" title="卸载组件触发"></a>卸载组件触发</h3><pre><code class="bash">componentWillUnmount</code></pre>
<h1 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h1><h3 id="findDOMNode"><a href="#findDOMNode" class="headerlink" title="findDOMNode()"></a>findDOMNode()</h3><pre><code class="bash">当组件加载到页面上之后（mounted），你都可以通过 react-dom 提供的 findDOMNode() 方法拿到组件对应的 DOM 元素。
import { findDOMNode } from <span class="string">'react-dom'</span>;

// Inside Component class
<span class="function"><span class="title">componentDidMound</span></span>() {
  const el = findDOMNode(this);
}
findDOMNode() 不能用在无状态组件上。</code></pre>
<h3 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h3><pre><code class="bash">通过在要引用的 DOM 元素上面设置一个 ref 属性指定一个名称，然后通过 this.refs.name 来访问对应的 DOM 元素。</code></pre>
<h3 id="循环插入子元素"><a href="#循环插入子元素" class="headerlink" title="循环插入子元素"></a>循环插入子元素</h3><pre><code class="bash">{数组.map(item=&gt;{
  <span class="built_in">return</span> &lt;标签 key={item.id}&gt;{item}&lt;/标签&gt;
})}</code></pre>
<h3 id="this-props-children"><a href="#this-props-children" class="headerlink" title="this.props.children"></a>this.props.children</h3><pre><code class="bash">组件 &lt;标签 &gt;{this.props.children}&lt;/标签&gt;
别的组件在使用该组件时在标签中间写的dom会显示在该组件的this.props.children中，相当于vue的&lt;slot/&gt;插槽</code></pre>
<h1 id="react-contextApi"><a href="#react-contextApi" class="headerlink" title="react contextApi"></a>react contextApi</h1><pre><code class="bash"><span class="built_in">export</span> class State{
  key:value,
  仓库,相当于vuex的store里的state ，可以设置默认值
}

<span class="built_in">export</span> <span class="built_in">type</span> NameComponent = React.Component&lt;any, { data: State }&gt;;
初始时传入的组件实例

<span class="built_in">export</span> class NameReducer{
  public static instance: NameReducer; 调用自身实例化方法后用来存储自身实例对象，在其他组件中可以通过该属性来调用context中的方法
   把传入的组件和state初始化赋给instance
  public static initInstance(component: NameComponent,state: State){
    NameReducer.instance = new NameReducer(component,state)
  }
  public state:State; 用来存state
  private component:NameComponent; 用来存传入的component

  该类的构造函数，初始化时给component和state赋值
  constrctor(component:NameComponent,state:State){
    this.component = component;
    this.state = state;
  }
  public 方法 (){

  }

  public setState(state: Partial&lt;State&gt;){
    修改值得方法，调用时修改该实例对象的值和传入的组件的state.data的值
    this.state = Object.assign(new State(),this.state,state);
    this.component.setState({
      data:this.state,
    })
  }

}
<span class="built_in">export</span> const NameContext = React.createContext&lt;State&gt;(new State());</code></pre>
<h3 id="react富文本"><a href="#react富文本" class="headerlink" title="react富文本"></a>react富文本</h3><pre><code class="bash">dangerouslySetInnerHTML={{ __html:}}</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/14/react/" data-id="ckap2terr0003c0nt8h8hdvdg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-typeorm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/24/typeorm/" class="article-date">
  <time datetime="2020-03-24T10:10:18.601Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/24/typeorm/">typeorm mongodb</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="typeorm封装了mongodb的操作"><a href="#typeorm封装了mongodb的操作" class="headerlink" title="typeorm封装了mongodb的操作"></a>typeorm封装了mongodb的操作</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  @Entity() 实体相当于集合</span><br><span class="line">  import &#123; Entity, ObjectID, ObjectIdColumn, Column &#125; from <span class="string">"typeorm"</span>;</span><br><span class="line">@Entity()</span><br><span class="line"><span class="built_in">export</span> class User &#123;</span><br><span class="line">  @ObjectIdColumn()</span><br><span class="line">  id: ObjectID;</span><br><span class="line">  @Column()</span><br><span class="line">  firstName: string;</span><br><span class="line">  @Column()</span><br><span class="line">  lastName: string;</span><br><span class="line">  @createDateColumn() 创建时间</span><br><span class="line">  createTime:Date</span><br><span class="line">  @updateDateColumn() 更新时间</span><br><span class="line">   updateTime:Date</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="连接mongodb数据库"><a href="#连接mongodb数据库" class="headerlink" title="连接mongodb数据库"></a>连接mongodb数据库</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createConnection, Connection &#125; from <span class="string">"typeorm"</span>;</span><br><span class="line">const connection: Connection = await createConnection(&#123;</span><br><span class="line">  <span class="built_in">type</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">  host: <span class="string">"localhost"</span>,</span><br><span class="line">  port: 27017,</span><br><span class="line">  database: <span class="string">"test"</span>,</span><br><span class="line">  name:<span class="string">"databaseName"</span>,</span><br><span class="line">  entities: [...实体对象],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="通过Repositories操作实体"><a href="#通过Repositories操作实体" class="headerlink" title="通过Repositories操作实体"></a>通过Repositories操作实体</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repository= getConnection(databaseName).getMongoRepository(实体对象)</span><br></pre></td></tr></table></figure>

<h1 id="增"><a href="#增" class="headerlink" title="增"></a>增</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repository.insertOne() 增加一个</span><br><span class="line">repository.insertMany() 增加多个</span><br><span class="line">repository.save()</span><br></pre></td></tr></table></figure>
<h1 id="删"><a href="#删" class="headerlink" title="删"></a>删</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repository.deleteOne() 删除一个</span><br><span class="line">repository.deleteMany() 删除多个  </span><br><span class="line">repository.findOneAndDelete() 找到删除一个</span><br></pre></td></tr></table></figure>
<h1 id="改"><a href="#改" class="headerlink" title="改"></a>改</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">repository.updateOne() 更新一个</span><br><span class="line">repository.updateMany() 更新多个</span><br><span class="line">repository.findOneAndUpdate() 找到更新一个</span><br><span class="line">repository.findOneAndReplace() 找到一个替换</span><br><span class="line">repository.replaceOne() 替换</span><br><span class="line">repository.updateOne(</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">"_id"</span>: new mongodb.ObjectId(ccId),</span><br><span class="line">                        <span class="string">"students.userId"</span>: userId,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123; <span class="variable">$inc</span>: &#123; <span class="string">"students.$.experience"</span>: expDetail.experience &#125; &#125;,</span><br><span class="line">                ),</span><br></pre></td></tr></table></figure>
<h1 id="查"><a href="#查" class="headerlink" title="查"></a>查</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">repository.find(&#123;<span class="built_in">where</span>:&#123;_id :&#123;<span class="variable">$eq</span>:new mongodb.ObjectId()&#125;&#125;&#125;)</span><br><span class="line">repository.find(&#123;<span class="built_in">where</span>:&#123;_id :&#123;<span class="variable">$in</span>:[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]&#125;&#125;&#125;)</span><br><span class="line">repository.findOne()   找到一个</span><br><span class="line">repository.findById() 根据id查找</span><br><span class="line">repository.findByIds([<span class="string">"id"</span>,<span class="string">"id"</span>].map((id) =&gt; new mongodb.ObjectId(id)));</span><br></pre></td></tr></table></figure>

<h1 id="bulkWrite"><a href="#bulkWrite" class="headerlink" title="bulkWrite"></a>bulkWrite</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.bulkWrite([&#123;updateMany:&#123;filter:&#123;&#125;,update:&#123;<span class="variable">$unset</span>:&#123;gender:<span class="literal">true</span>&#125;&#125;,upsert:1&#125;&#125;])</span><br></pre></td></tr></table></figure>
<h1 id="aggregate"><a href="#aggregate" class="headerlink" title="aggregate"></a>aggregate</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.aggregate(<span class="variable">$group</span>:&#123;_id:<span class="string">"<span class="variable">$name</span>"</span>&#125;)  和mongodb一样</span><br></pre></td></tr></table></figure>
<h1 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.distinct(<span class="string">"age"</span>,&#123;name:<span class="string">"A"</span>&#125;) 参一：要返回的数据 参二：query筛选条件</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/24/typeorm/" data-id="ckap2teru0005c0nt9tebbbyv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mongodb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/24/mongodb/" class="article-date">
  <time datetime="2020-03-24T01:20:45.295Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/24/mongodb/">mongoDB数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="mongoDB安装配置"><a href="#mongoDB安装配置" class="headerlink" title="mongoDB安装配置"></a>mongoDB安装配置</h1><h3 id="1-安装MongoDB，在环境变量path里配置bin路径"><a href="#1-安装MongoDB，在环境变量path里配置bin路径" class="headerlink" title="1.安装MongoDB，在环境变量path里配置bin路径"></a>1.安装MongoDB，在环境变量path里配置bin路径</h3><h3 id="2-创建mongo-config文件，在里面配置数据库的存储路径和log的路径"><a href="#2-创建mongo-config文件，在里面配置数据库的存储路径和log的路径" class="headerlink" title="2.创建mongo.config文件，在里面配置数据库的存储路径和log的路径"></a>2.创建mongo.config文件，在里面配置数据库的存储路径和log的路径</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dbpath=D:\MonggoDB\data\db 数据库存储路径</span><br><span class="line">dbpath=D:\MonggoDB\data\<span class="built_in">log</span>\mongod.log</span><br></pre></td></tr></table></figure>
<h3 id="3-执行mongod–config-”D-MonggoDB-data-bin-mongo-config–install配置”"><a href="#3-执行mongod–config-”D-MonggoDB-data-bin-mongo-config–install配置”" class="headerlink" title="3.执行mongod–config:”D:\MonggoDB\data\bin\mongo.config–install配置”"></a>3.执行mongod–config:”D:\MonggoDB\data\bin\mongo.config–install配置”</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mongod启动</span><br><span class="line">mongo进行数据库操作</span><br></pre></td></tr></table></figure>
<h1 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">show dbs   show databases 显示几个数据库</span><br><span class="line">use dbname  进入某一数据库</span><br><span class="line">show collections 显示数据库中有多少集合</span><br><span class="line">db.dropDatabase() 删除数据库</span><br><span class="line">db.&lt;collection&gt;.drop() 删除集合</span><br></pre></td></tr></table></figure>
<h3 id="插入文档（增）"><a href="#插入文档（增）" class="headerlink" title="插入文档（增）"></a>插入文档（增）</h3><pre><code class="bash">db.&lt;collection&gt;.insert({}) 多个使用数据[{},{}]
db.&lt;collection&gt;.insertone({}) 添加一个
db.&lt;collection&gt;.insertMany([{},{}])添加多个
db.&lt;collection&gt;.save({}) 如果提供_id的话会去更新该条数据，否则相当于insert</code></pre>
<h3 id="查询文档（查）"><a href="#查询文档（查）" class="headerlink" title="查询文档（查）"></a>查询文档（查）</h3><pre><code class="bash">db.&lt;collection&gt;.find(query,projection)
query:可选，使用查询操作符指定查询条件，没有查询全部
projection“可选，使用投影操作符指定返回的键，查询时返回文档中所有的键值，只需省略参数即可
db.col.find().pretty() pretty()方法以格式化的方法来显示所有的文档
db.col.findOne() 返回第一个文档对象
db.col.find().count() 返回文档数量
<span class="variable">$lt</span>:小于
<span class="variable">$lte</span>:小于等于
<span class="variable">$gt</span>:大于
<span class="variable">$gte</span>:大于等于
<span class="variable">$ne</span>:不等于
<span class="variable">$eq</span>:等于
例：db.col.find({age:{<span class="variable">$lt</span>:20}})
and 且  db.col.find({name:<span class="string">""</span>,age:20})
or 或  db.col.find({<span class="variable">$or</span>:[{key:value},{key2:value2}]})
db.col.find({title:/教/}) 包含教字的
db.col.find({title:/^教/}) 教开头的
db.col.find({title:/教$/}) 教结尾的
<span class="variable">$limit</span> 限制条数
<span class="variable">$sort</span> 排序 db.col.sort({age:1})  1表示升序，-1表示降序
<span class="variable">$skip</span> 跳过几条</code></pre>
<h3 id="更新文档（改）"><a href="#更新文档（改）" class="headerlink" title="更新文档（改）"></a>更新文档（改）</h3><pre><code class="bash">db.update(query,update,{upsert:boolean,multi:boolean})
upsert:可选，如果不存在update的记录，是否插入objNew，<span class="literal">true</span>为插入，默认<span class="literal">false</span>
multi：可选，默认<span class="literal">false</span>，只更新第一条记录，如果为<span class="literal">true</span>，就会全部更新
<span class="variable">$set</span> 修改
db.col.update({},{<span class="variable">$set</span>:{}})
<span class="variable">$unset</span> 删除属性
db.col.update({},{<span class="variable">$unset</span>:{}})
可以简写为 db.col.update({},{},upsert,multi)
          db.col.update({},{},<span class="literal">true</span>,<span class="literal">true</span>)
db.col.updateOne() 修改一个
db.col.updateMany() 修改多个
db.col.replace({},{}) 替换
<span class="variable">$push</span> 往数组里添加
db.col.update({username:<span class="string">""</span>},{<span class="variable">$push</span>:{hobby:<span class="string">"movie"</span>}})
<span class="variable">$addToset</span> 往数组里添加，不存在就添加，存在就不添加，相当于去重
db.col.update({username:<span class="string">""</span>},{<span class="variable">$addToset</span>:{hobby:<span class="string">"movie"</span>}})
<span class="variable">$each</span> 遍历数组
    db.col.update({username:<span class="string">""</span>},{<span class="variable">$addToset</span>:{hobby:[<span class="string">"movie"</span>,<span class="string">"eat"</span>]}})</code></pre>
<h3 id="删除文档（删）"><a href="#删除文档（删）" class="headerlink" title="删除文档（删）"></a>删除文档（删）</h3><pre><code class="bash">db.col.deleteMmany({}) 删除集合下的全部内容
db.col.deleteMany({status:<span class="string">"A"</span>}) 删除status等于A的全部文档
db.col.deleteOne({})删除第一个文档</code></pre>
<h3 id="aggregate-聚合"><a href="#aggregate-聚合" class="headerlink" title="aggregate 聚合"></a>aggregate 聚合</h3><pre><code class="bash">聚合表达式
<span class="variable">$sum</span> 计算总和
<span class="variable">$avg</span> 计算平均值
<span class="variable">$min</span> 计算最小值
<span class="variable">$max</span> 计算最大值
<span class="variable">$push</span> 在结果文档中插入值到一个数组中
<span class="variable">$addToset</span> 在结果文档中插入值到一个数组中，但不重复
<span class="variable">$first</span> 第一个
<span class="variable">$last</span> 最后一个
管道
<span class="variable">$project</span> 修改输入文档的结构，可以用来重命名，增加或删除域
<span class="variable">$match</span>  用于过滤数据，相当于find
<span class="variable">$limit</span> 限制条数
<span class="variable">$skip</span> 跳过条数
<span class="variable">$unwind</span>  根据集合中的数组数据进行拆分
  db.col.aggregate([{<span class="variable">$unwind</span>:<span class="string">"<span class="variable">$name</span>"</span>}])
<span class="variable">$group</span>  对数据进行整合，标准是_id ,可以一个或多个拆分条件,没有条件时写_id:null
  db.col.aggregate([{<span class="variable">$group</span>:{_id:<span class="string">"<span class="variable">$name</span>"</span>,}}])
  db.col.aggregate([{<span class="variable">$group</span>:{_id:{name:<span class="string">"<span class="variable">$name</span>"</span>,age:<span class="string">"<span class="variable">$age</span>"</span>},age:<span class="string">"<span class="variable">$age</span>"</span>}}])
<span class="variable">$sort</span> 排序
  db.col.aggregate([{<span class="variable">$sort</span>:{name:1}}])</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/24/mongodb/" data-id="ckap2terq0002c0nt29b3bhkh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Restful规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/23/Restful%E8%A7%84%E8%8C%83/" class="article-date">
  <time datetime="2020-03-23T10:09:09.368Z" itemprop="datePublished">2020-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/23/Restful%E8%A7%84%E8%8C%83/">Restful规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="title-Restful"><a href="#title-Restful" class="headerlink" title=" title: Restful"></a> title: Restful</h2><p> HTTP动词<br>GET（SELECT）：从服务器取出资源（一项或多项）。<br>POST（CREATE）：在服务器新建一个资源。<br>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。<br>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。<br>DELETE（DELETE）：从服务器删除资源。</p>
<p>例子<br>GET /zoos：列出所有动物园<br>POST /zoos：新建一个动物园<br>GET /zoos/ID：获取某个指定动物园的信息<br>PUT /zoos/ID：更新某个指定动物园的信息（提供该动物园的全部信息）<br>PATCH /zoos/ID：更新某个指定动物园的信息（提供该动物园的部分信息）<br>DELETE /zoos/ID：删除某个动物园<br>GET /zoos/ID/animals：列出某个指定动物园的所有动物<br>DELETE /zoos/ID/animals/ID：删除某个指定动物园的指定动物</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/23/Restful%E8%A7%84%E8%8C%83/" data-id="ckap2ter70000c0ntah4rc3a2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/05/13/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%8D%E5%90%8C%E5%83%8F%E7%B4%A0%E6%AF%941px%E8%BE%B9%E6%A1%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">移动端不同像素比1px边框解决方案</a>
          </li>
        
          <li>
            <a href="/2020/05/13/vue%E6%96%B0%E5%A2%9E%E7%9F%A5%E8%AF%86%E7%82%B9/">vue知识点</a>
          </li>
        
          <li>
            <a href="/2020/05/11/vue-cli4/">vue-cli4</a>
          </li>
        
          <li>
            <a href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/">css小知识</a>
          </li>
        
          <li>
            <a href="/2020/04/14/react/">react</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 JinKuo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">博客</a>
  
</nav>
<canvas
width="150"
height="300"
id="model"></canvas>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/live2d.js"></script>



<script>

let dir = `/live2d-widget-model-shizuku/assets/shizuku.model.json`
const url = 'https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0' + dir
loadlive2d("model", url);
</script>

  </div>
</body>
</html>