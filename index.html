<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>JinKuo的博客中心</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="JinKuo的博客中心">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="JinKuo的博客中心">
<meta property="article:author" content="JinKuo">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="JinKuo的博客中心" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">JinKuo的博客中心</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">博客</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-css小知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/" class="article-date">
  <time datetime="2020-04-26T09:14:54.828Z" itemprop="datePublished">2020-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/">css小知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="快速重置表单元素-unset"><a href="#快速重置表单元素-unset" class="headerlink" title="快速重置表单元素 unset"></a>快速重置表单元素 unset</h3><pre><code class="bash">button { all: <span class="built_in">unset</span>; }</code></pre>
<h3 id="文本省略号显示"><a href="#文本省略号显示" class="headerlink" title="文本省略号显示"></a>文本省略号显示</h3><pre><code class="bash">    div {  
  white-space:nowrap;/* 规定文本是否折行 */  
  overflow: hidden;/* 规定超出内容宽度的元素隐藏 */
  text-overflow: ellipsis;
  /* 规定超出的内容文本省略号显示，通常跟上面的属性连用，因为没有上面的属性不会触发超出规定的内容 */
}复制代码折行(能主动控制行数,这里设置的超出 4 行显示省略号)：div {      
  overflow: hidden;      
  text-overflow: ellipsis;      
  display: -webkit-box; /* 将对象作为弹性伸缩盒子模型显示 */      
  -webkit-line-clamp: 4; /* 控制最多显示几行 */      
  -webkit-box-orient: vertical; /* 设置或检索伸缩盒对象的子元素的排列方式 */    
}</code></pre>
<h3 id="最后一个-div-不显示下边框"><a href="#最后一个-div-不显示下边框" class="headerlink" title="最后一个 div 不显示下边框"></a>最后一个 div 不显示下边框</h3><pre><code class="bash">div:not(:last-child) /* 匹配非最后一个 div 元素的 div 元素 */</code></pre>
<h3 id="设置文本俩端对齐"><a href="#设置文本俩端对齐" class="headerlink" title="设置文本俩端对齐"></a>设置文本俩端对齐</h3><pre><code class="bash">text-align-last:justify;</code></pre>
<h3 id="通过pointer-events-none-阻止默认事件"><a href="#通过pointer-events-none-阻止默认事件" class="headerlink" title="通过pointer-events: none;阻止默认事件"></a>通过pointer-events: none;阻止默认事件</h3><pre><code class="bash">pointer-events: none;</code></pre>
<h3 id="在标签上自定义属性data-，通过attr-获取其内容赋值到content上"><a href="#在标签上自定义属性data-，通过attr-获取其内容赋值到content上" class="headerlink" title="在标签上自定义属性data-*，通过attr()获取其内容赋值到content上"></a>在标签上自定义属性data-*，通过attr()获取其内容赋值到content上</h3><pre><code class="bash"> &lt;a class=<span class="string">"tips"</span> href=<span class="string">"https://www.baidu.com"</span> data-msg=<span class="string">"Hello World"</span>&gt;提示框&lt;/a&gt;
content: attr(data-msg);</code></pre>
<h3 id="使用伪类-valid和-invalid配合pattern校验表单输入的内容"><a href="#使用伪类-valid和-invalid配合pattern校验表单输入的内容" class="headerlink" title="使用伪类:valid和:invalid配合pattern校验表单输入的内容"></a><input>使用伪类:valid和:invalid配合pattern校验表单输入的内容</h3><pre><code class="bash">&amp;:valid {
            border-color: <span class="comment">#3c9;</span>
            box-shadow: inset 5px 0 0<span class="comment">#3c9;</span>
        }
        &amp;:invalid {
            border-color: <span class="comment">#f66;</span>
            box-shadow: inset 5px 0 0 <span class="comment">#f66;</span>
        }</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/" data-id="ck9gvul9o0000u8nt8d3tane9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/14/react/" class="article-date">
  <time datetime="2020-04-14T04:08:00.176Z" itemprop="datePublished">2020-04-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/14/react/">react</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="reactJSX"><a href="#reactJSX" class="headerlink" title="reactJSX"></a>reactJSX</h1><pre><code class="bash">HTML 里的 class 在 JSX 里要写成 className，因为 class 在 JS 里是保留关键字。同理某些属性比如 <span class="keyword">for</span> 要写成 htmlFor。</code></pre>
<h1 id="react生命周期"><a href="#react生命周期" class="headerlink" title="react生命周期"></a>react生命周期</h1><h3 id="装载组件触发"><a href="#装载组件触发" class="headerlink" title="装载组件触发"></a>装载组件触发</h3><pre><code class="bash">   componentWillMount

只会在装载之前调用一次，在 render 之前调用，你可以在这个方法里面调用 setState 改变状态，并且不会导致额外调用一次 render
componentDidMount

只会在装载完成之后调用一次，在 render 之后调用，从这里开始可以通过 ReactDOM.findDOMNode(this) 获取到组件的 DOM 节点。</code></pre>
<h3 id="更新组件触发"><a href="#更新组件触发" class="headerlink" title="更新组件触发"></a>更新组件触发</h3><pre><code class="bash">componentWillReceiveProps
shouldComponentUpdate
componentWillUpdate
componentDidUpdate</code></pre>
<h3 id="卸载组件触发"><a href="#卸载组件触发" class="headerlink" title="卸载组件触发"></a>卸载组件触发</h3><pre><code class="bash">componentWillUnmount</code></pre>
<h1 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h1><h3 id="findDOMNode"><a href="#findDOMNode" class="headerlink" title="findDOMNode()"></a>findDOMNode()</h3><pre><code class="bash">当组件加载到页面上之后（mounted），你都可以通过 react-dom 提供的 findDOMNode() 方法拿到组件对应的 DOM 元素。
import { findDOMNode } from <span class="string">'react-dom'</span>;

// Inside Component class
<span class="function"><span class="title">componentDidMound</span></span>() {
  const el = findDOMNode(this);
}
findDOMNode() 不能用在无状态组件上。</code></pre>
<h3 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h3><pre><code class="bash">通过在要引用的 DOM 元素上面设置一个 ref 属性指定一个名称，然后通过 this.refs.name 来访问对应的 DOM 元素。</code></pre>
<h3 id="循环插入子元素"><a href="#循环插入子元素" class="headerlink" title="循环插入子元素"></a>循环插入子元素</h3><pre><code class="bash">{数组.map(item=&gt;{
  <span class="built_in">return</span> &lt;标签 key={item.id}&gt;{item}&lt;/标签&gt;
})}</code></pre>
<h3 id="this-props-children"><a href="#this-props-children" class="headerlink" title="this.props.children"></a>this.props.children</h3><pre><code class="bash">组件 &lt;标签 &gt;{this.props.children}&lt;/标签&gt;
别的组件在使用该组件时在标签中间写的dom会显示在该组件的this.props.children中，相当于vue的&lt;slot/&gt;插槽</code></pre>
<h1 id="react-contextApi"><a href="#react-contextApi" class="headerlink" title="react contextApi"></a>react contextApi</h1><pre><code class="bash"><span class="built_in">export</span> class State{
  key:value,
  仓库,相当于vuex的store里的state ，可以设置默认值
}

<span class="built_in">export</span> <span class="built_in">type</span> NameComponent = React.Component&lt;any, { data: State }&gt;;
初始时传入的组件实例

<span class="built_in">export</span> class NameReducer{
  public static instance: NameReducer; 调用自身实例化方法后用来存储自身实例对象，在其他组件中可以通过该属性来调用context中的方法
   把传入的组件和state初始化赋给instance
  public static initInstance(component: NameComponent,state: State){
    NameReducer.instance = new NameReducer(component,state)
  }
  public state:State; 用来存state
  private component:NameComponent; 用来存传入的component

  该类的构造函数，初始化时给component和state赋值
  constrctor(component:NameComponent,state:State){
    this.component = component;
    this.state = state;
  }
  public 方法 (){

  }

  public setState(state: Partial&lt;State&gt;){
    修改值得方法，调用时修改该实例对象的值和传入的组件的state.data的值
    this.state = Object.assign(new State(),this.state,state);
    this.component.setState({
      data:this.state,
    })
  }

}
<span class="built_in">export</span> const NameContext = React.createContext&lt;State&gt;(new State());</code></pre>
<h3 id="react富文本"><a href="#react富文本" class="headerlink" title="react富文本"></a>react富文本</h3><pre><code class="bash">dangerouslySetInnerHTML={{ __html:}}</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/14/react/" data-id="ck9gvulbl0004u8ntcemb8r1x" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-typeorm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/24/typeorm/" class="article-date">
  <time datetime="2020-03-24T10:10:18.601Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/24/typeorm/">typeorm mongodb</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="typeorm封装了mongodb的操作"><a href="#typeorm封装了mongodb的操作" class="headerlink" title="typeorm封装了mongodb的操作"></a>typeorm封装了mongodb的操作</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  @Entity() 实体相当于集合</span><br><span class="line">  import &#123; Entity, ObjectID, ObjectIdColumn, Column &#125; from <span class="string">"typeorm"</span>;</span><br><span class="line">@Entity()</span><br><span class="line"><span class="built_in">export</span> class User &#123;</span><br><span class="line">  @ObjectIdColumn()</span><br><span class="line">  id: ObjectID;</span><br><span class="line">  @Column()</span><br><span class="line">  firstName: string;</span><br><span class="line">  @Column()</span><br><span class="line">  lastName: string;</span><br><span class="line">  @createDateColumn() 创建时间</span><br><span class="line">  createTime:Date</span><br><span class="line">  @updateDateColumn() 更新时间</span><br><span class="line">   updateTime:Date</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="连接mongodb数据库"><a href="#连接mongodb数据库" class="headerlink" title="连接mongodb数据库"></a>连接mongodb数据库</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createConnection, Connection &#125; from <span class="string">"typeorm"</span>;</span><br><span class="line">const connection: Connection = await createConnection(&#123;</span><br><span class="line">  <span class="built_in">type</span>: <span class="string">"mongodb"</span>,</span><br><span class="line">  host: <span class="string">"localhost"</span>,</span><br><span class="line">  port: 27017,</span><br><span class="line">  database: <span class="string">"test"</span>,</span><br><span class="line">  name:<span class="string">"databaseName"</span>,</span><br><span class="line">  entities: [...实体对象],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="通过Repositories操作实体"><a href="#通过Repositories操作实体" class="headerlink" title="通过Repositories操作实体"></a>通过Repositories操作实体</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repository= getConnection(databaseName).getMongoRepository(实体对象)</span><br></pre></td></tr></table></figure>

<h1 id="增"><a href="#增" class="headerlink" title="增"></a>增</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repository.insertOne() 增加一个</span><br><span class="line">repository.insertMany() 增加多个</span><br><span class="line">repository.save()</span><br></pre></td></tr></table></figure>
<h1 id="删"><a href="#删" class="headerlink" title="删"></a>删</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repository.deleteOne() 删除一个</span><br><span class="line">repository.deleteMany() 删除多个  </span><br><span class="line">repository.findOneAndDelete() 找到删除一个</span><br></pre></td></tr></table></figure>
<h1 id="改"><a href="#改" class="headerlink" title="改"></a>改</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">repository.updateOne() 更新一个</span><br><span class="line">repository.updateMany() 更新多个</span><br><span class="line">repository.findOneAndUpdate() 找到更新一个</span><br><span class="line">repository.findOneAndReplace() 找到一个替换</span><br><span class="line">repository.replaceOne() 替换</span><br><span class="line">repository.updateOne(</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">"_id"</span>: new mongodb.ObjectId(ccId),</span><br><span class="line">                        <span class="string">"students.userId"</span>: userId,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123; <span class="variable">$inc</span>: &#123; <span class="string">"students.$.experience"</span>: expDetail.experience &#125; &#125;,</span><br><span class="line">                ),</span><br></pre></td></tr></table></figure>
<h1 id="查"><a href="#查" class="headerlink" title="查"></a>查</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">repository.find(&#123;<span class="built_in">where</span>:&#123;_id :&#123;<span class="variable">$eq</span>:new mongodb.ObjectId()&#125;&#125;&#125;)</span><br><span class="line">repository.find(&#123;<span class="built_in">where</span>:&#123;_id :&#123;<span class="variable">$in</span>:[<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]&#125;&#125;&#125;)</span><br><span class="line">repository.findOne()   找到一个</span><br><span class="line">repository.findById() 根据id查找</span><br><span class="line">repository.findByIds([<span class="string">"id"</span>,<span class="string">"id"</span>].map((id) =&gt; new mongodb.ObjectId(id)));</span><br></pre></td></tr></table></figure>

<h1 id="bulkWrite"><a href="#bulkWrite" class="headerlink" title="bulkWrite"></a>bulkWrite</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.bulkWrite([&#123;updateMany:&#123;filter:&#123;&#125;,update:&#123;<span class="variable">$unset</span>:&#123;gender:<span class="literal">true</span>&#125;&#125;,upsert:1&#125;&#125;])</span><br></pre></td></tr></table></figure>
<h1 id="aggregate"><a href="#aggregate" class="headerlink" title="aggregate"></a>aggregate</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.aggregate(<span class="variable">$group</span>:&#123;_id:<span class="string">"<span class="variable">$name</span>"</span>&#125;)  和mongodb一样</span><br></pre></td></tr></table></figure>
<h1 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">authorRepository.distinct(<span class="string">"age"</span>,&#123;name:<span class="string">"A"</span>&#125;) 参一：要返回的数据 参二：query筛选条件</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/24/typeorm/" data-id="ck9gvulah0003u8ntgogaedey" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mongodb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/24/mongodb/" class="article-date">
  <time datetime="2020-03-24T01:20:45.295Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/24/mongodb/">mongoDB数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="mongoDB安装配置"><a href="#mongoDB安装配置" class="headerlink" title="mongoDB安装配置"></a>mongoDB安装配置</h1><h3 id="1-安装MongoDB，在环境变量path里配置bin路径"><a href="#1-安装MongoDB，在环境变量path里配置bin路径" class="headerlink" title="1.安装MongoDB，在环境变量path里配置bin路径"></a>1.安装MongoDB，在环境变量path里配置bin路径</h3><h3 id="2-创建mongo-config文件，在里面配置数据库的存储路径和log的路径"><a href="#2-创建mongo-config文件，在里面配置数据库的存储路径和log的路径" class="headerlink" title="2.创建mongo.config文件，在里面配置数据库的存储路径和log的路径"></a>2.创建mongo.config文件，在里面配置数据库的存储路径和log的路径</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dbpath=D:\MonggoDB\data\db 数据库存储路径</span><br><span class="line">dbpath=D:\MonggoDB\data\<span class="built_in">log</span>\mongod.log</span><br></pre></td></tr></table></figure>
<h3 id="3-执行mongod–config-”D-MonggoDB-data-bin-mongo-config–install配置”"><a href="#3-执行mongod–config-”D-MonggoDB-data-bin-mongo-config–install配置”" class="headerlink" title="3.执行mongod–config:”D:\MonggoDB\data\bin\mongo.config–install配置”"></a>3.执行mongod–config:”D:\MonggoDB\data\bin\mongo.config–install配置”</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mongod启动</span><br><span class="line">mongo进行数据库操作</span><br></pre></td></tr></table></figure>
<h1 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">show dbs   show databases 显示几个数据库</span><br><span class="line">use dbname  进入某一数据库</span><br><span class="line">show collections 显示数据库中有多少集合</span><br><span class="line">db.dropDatabase() 删除数据库</span><br><span class="line">db.&lt;collection&gt;.drop() 删除集合</span><br></pre></td></tr></table></figure>
<h3 id="插入文档（增）"><a href="#插入文档（增）" class="headerlink" title="插入文档（增）"></a>插入文档（增）</h3><pre><code class="bash">db.&lt;collection&gt;.insert({}) 多个使用数据[{},{}]
db.&lt;collection&gt;.insertone({}) 添加一个
db.&lt;collection&gt;.insertMany([{},{}])添加多个
db.&lt;collection&gt;.save({}) 如果提供_id的话会去更新该条数据，否则相当于insert</code></pre>
<h3 id="查询文档（查）"><a href="#查询文档（查）" class="headerlink" title="查询文档（查）"></a>查询文档（查）</h3><pre><code class="bash">db.&lt;collection&gt;.find(query,projection)
query:可选，使用查询操作符指定查询条件，没有查询全部
projection“可选，使用投影操作符指定返回的键，查询时返回文档中所有的键值，只需省略参数即可
db.col.find().pretty() pretty()方法以格式化的方法来显示所有的文档
db.col.findOne() 返回第一个文档对象
db.col.find().count() 返回文档数量
<span class="variable">$lt</span>:小于
<span class="variable">$lte</span>:小于等于
<span class="variable">$gt</span>:大于
<span class="variable">$gte</span>:大于等于
<span class="variable">$ne</span>:不等于
<span class="variable">$eq</span>:等于
例：db.col.find({age:{<span class="variable">$lt</span>:20}})
and 且  db.col.find({name:<span class="string">""</span>,age:20})
or 或  db.col.find({<span class="variable">$or</span>:[{key:value},{key2:value2}]})
db.col.find({title:/教/}) 包含教字的
db.col.find({title:/^教/}) 教开头的
db.col.find({title:/教$/}) 教结尾的
<span class="variable">$limit</span> 限制条数
<span class="variable">$sort</span> 排序 db.col.sort({age:1})  1表示升序，-1表示降序
<span class="variable">$skip</span> 跳过几条</code></pre>
<h3 id="更新文档（改）"><a href="#更新文档（改）" class="headerlink" title="更新文档（改）"></a>更新文档（改）</h3><pre><code class="bash">db.update(query,update,{upsert:boolean,multi:boolean})
upsert:可选，如果不存在update的记录，是否插入objNew，<span class="literal">true</span>为插入，默认<span class="literal">false</span>
multi：可选，默认<span class="literal">false</span>，只更新第一条记录，如果为<span class="literal">true</span>，就会全部更新
<span class="variable">$set</span> 修改
db.col.update({},{<span class="variable">$set</span>:{}})
<span class="variable">$unset</span> 删除属性
db.col.update({},{<span class="variable">$unset</span>:{}})
可以简写为 db.col.update({},{},upsert,multi)
          db.col.update({},{},<span class="literal">true</span>,<span class="literal">true</span>)
db.col.updateOne() 修改一个
db.col.updateMany() 修改多个
db.col.replace({},{}) 替换
<span class="variable">$push</span> 往数组里添加
db.col.update({username:<span class="string">""</span>},{<span class="variable">$push</span>:{hobby:<span class="string">"movie"</span>}})
<span class="variable">$addToset</span> 往数组里添加，不存在就添加，存在就不添加，相当于去重
db.col.update({username:<span class="string">""</span>},{<span class="variable">$addToset</span>:{hobby:<span class="string">"movie"</span>}})
<span class="variable">$each</span> 遍历数组
    db.col.update({username:<span class="string">""</span>},{<span class="variable">$addToset</span>:{hobby:[<span class="string">"movie"</span>,<span class="string">"eat"</span>]}})</code></pre>
<h3 id="删除文档（删）"><a href="#删除文档（删）" class="headerlink" title="删除文档（删）"></a>删除文档（删）</h3><pre><code class="bash">db.col.deleteMmany({}) 删除集合下的全部内容
db.col.deleteMany({status:<span class="string">"A"</span>}) 删除status等于A的全部文档
db.col.deleteOne({})删除第一个文档</code></pre>
<h3 id="aggregate-聚合"><a href="#aggregate-聚合" class="headerlink" title="aggregate 聚合"></a>aggregate 聚合</h3><pre><code class="bash">聚合表达式
<span class="variable">$sum</span> 计算总和
<span class="variable">$avg</span> 计算平均值
<span class="variable">$min</span> 计算最小值
<span class="variable">$max</span> 计算最大值
<span class="variable">$push</span> 在结果文档中插入值到一个数组中
<span class="variable">$addToset</span> 在结果文档中插入值到一个数组中，但不重复
<span class="variable">$first</span> 第一个
<span class="variable">$last</span> 最后一个
管道
<span class="variable">$project</span> 修改输入文档的结构，可以用来重命名，增加或删除域
<span class="variable">$match</span>  用于过滤数据，相当于find
<span class="variable">$limit</span> 限制条数
<span class="variable">$skip</span> 跳过条数
<span class="variable">$unwind</span>  根据集合中的数组数据进行拆分
  db.col.aggregate([{<span class="variable">$unwind</span>:<span class="string">"<span class="variable">$name</span>"</span>}])
<span class="variable">$group</span>  对数据进行整合，标准是_id ,可以一个或多个拆分条件,没有条件时写_id:null
  db.col.aggregate([{<span class="variable">$group</span>:{_id:<span class="string">"<span class="variable">$name</span>"</span>,}}])
  db.col.aggregate([{<span class="variable">$group</span>:{_id:{name:<span class="string">"<span class="variable">$name</span>"</span>,age:<span class="string">"<span class="variable">$age</span>"</span>},age:<span class="string">"<span class="variable">$age</span>"</span>}}])
<span class="variable">$sort</span> 排序
  db.col.aggregate([{<span class="variable">$sort</span>:{name:1}}])</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/24/mongodb/" data-id="ck9gvulaf0002u8nt6cl96qwe" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Restful规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/23/Restful%E8%A7%84%E8%8C%83/" class="article-date">
  <time datetime="2020-03-23T10:09:09.368Z" itemprop="datePublished">2020-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/23/Restful%E8%A7%84%E8%8C%83/">Restful规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="title-Restful"><a href="#title-Restful" class="headerlink" title=" title: Restful"></a> title: Restful</h2><p> HTTP动词<br>GET（SELECT）：从服务器取出资源（一项或多项）。<br>POST（CREATE）：在服务器新建一个资源。<br>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。<br>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。<br>DELETE（DELETE）：从服务器删除资源。</p>
<p>例子<br>GET /zoos：列出所有动物园<br>POST /zoos：新建一个动物园<br>GET /zoos/ID：获取某个指定动物园的信息<br>PUT /zoos/ID：更新某个指定动物园的信息（提供该动物园的全部信息）<br>PATCH /zoos/ID：更新某个指定动物园的信息（提供该动物园的部分信息）<br>DELETE /zoos/ID：删除某个动物园<br>GET /zoos/ID/animals：列出某个指定动物园的所有动物<br>DELETE /zoos/ID/animals/ID：删除某个指定动物园的指定动物</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/23/Restful%E8%A7%84%E8%8C%83/" data-id="ck9gvulaa0001u8nt9ccabgwb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/26/css%E5%B0%8F%E7%9F%A5%E8%AF%86/">css小知识</a>
          </li>
        
          <li>
            <a href="/2020/04/14/react/">react</a>
          </li>
        
          <li>
            <a href="/2020/03/24/typeorm/">typeorm mongodb</a>
          </li>
        
          <li>
            <a href="/2020/03/24/mongodb/">mongoDB数据库</a>
          </li>
        
          <li>
            <a href="/2020/03/23/Restful%E8%A7%84%E8%8C%83/">Restful规范</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 JinKuo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">博客</a>
  
</nav>
<canvas
width="150"
height="300"
id="model"></canvas>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/live2d.js"></script>



<script>
  
let dir = `/live2d-widget-model-tororo/assets/tororo.model.json`
const url = 'https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0' + dir
loadlive2d("model", url);
</script>

  </div>
</body>
</html>